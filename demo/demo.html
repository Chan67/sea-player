<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div style="text-align: center;">
        <div style="margin: 8px 0;width: 100%;">
            <label for="">URL:</label>
            <input id="url" type="text" style="width: 640px;"
                value="https://ks3-cn-beijing.ksyun.com/ksplayer/h265/outside_demo/v1.1.3/720P2M30fpsh265-wasmtest.flv" />
        </div>
        <div style="margin: 8px 0;">
            <select name="dType" id="dType">
                <option value="0">H.264</option>
                <option selected value="1">H.265</option>
            </select>
            <button onclick="play()">play</button>
            <button onclick="destroy()">destroy</button>
        </div>
        <div style="display:flex;justify-content: center;">
            <div id="video" style="width: 640px; height: 360px;background: #000;">
            </div>
        </div>

    </div>

    <script src="/seaplayer.dev.js"></script>
    <!-- <script src="../dist/seaplayer.js"></script> -->
    <script>
        // let url = "http://127.0.0.1/live/test.flv"
        let url = document.getElementById('url').value;
        let player;

        let config = {
            container: document.getElementById('video'),
            debug: true,
            decoderType: 0, //0:h264 1:h265
            decoderJs: '/wasm/decoder.js',
        }
        function play() {
            config.decoderType = document.getElementById('dType').value
            player = new SeaPlayer(config);

            player.play(url);
        }
        function destroy() {
            player.destroy();
            player = null;
        }
    </script>
</body>

</html>